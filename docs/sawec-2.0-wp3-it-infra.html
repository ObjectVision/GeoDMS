<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav ul li a { background-image: none; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>sawec-2.0-wp3-it-infra | GeoDMS wiki</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="sawec-2.0-wp3-it-infra" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://localhost:4000/docs/sawec-2.0-wp3-it-infra.html" /> <meta property="og:url" content="http://localhost:4000/docs/sawec-2.0-wp3-it-infra.html" /> <meta property="og:site_name" content="GeoDMS wiki" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="sawec-2.0-wp3-it-infra" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"sawec-2.0-wp3-it-infra","url":"http://localhost:4000/docs/sawec-2.0-wp3-it-infra.html"}</script> <!-- End Jekyll SEO tag --> <!-- Automatically display code inside script tags with type=math/tex using MathJax --> <script type="text/javascript" defer src="../assets/js/mathjax-script-type.js"> </script> <!-- Copied from https://docs.mathjax.org/en/latest/web/components/combined.html --> <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"> </script> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> GeoDMS wiki </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in software category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/software.html" class="nav-list-link">software</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/system-requirements.html" class="nav-list-link">system-requirements</a></li><li class="nav-list-item"><a href="/docs/installation-instructions.html" class="nav-list-link">installation-instructions</a></li><li class="nav-list-item"><a href="/docs/folders-and-placeholders.html" class="nav-list-link">folders-and-placeholders</a></li><li class="nav-list-item"><a href="/docs/configuration-file-editor.html" class="nav-list-link">configuration-file-editor</a></li><li class="nav-list-item"><a href="/docs/known-issues.html" class="nav-list-link">known-issues</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in user-guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/user-guide.html" class="nav-list-link">user-guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui.html" class="nav-list-link">user-guide-geodms-gui</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui-older-variants-(delphi).html" class="nav-list-link">user-guide-geodms-gui-older-variants-(delphi)</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-run.html" class="nav-list-link">user-guide-geodms-run</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in how-to-model category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/how-to-model.html" class="nav-list-link">how-to-model</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/configuration-basics.html" class="nav-list-link">configuration-basics</a></li><li class="nav-list-item"><a href="/docs/unit.html" class="nav-list-link">unit</a></li><li class="nav-list-item"><a href="/docs/data-source.html" class="nav-list-link">data-source</a></li><li class="nav-list-item"><a href="/docs/expression.html" class="nav-list-link">expression</a></li><li class="nav-list-item"><a href="/docs/template.html" class="nav-list-link">template</a></li><li class="nav-list-item"><a href="/docs/visualisation-style.html" class="nav-list-link">visualisation-style</a></li><li class="nav-list-item"><a href="/docs/property.html" class="nav-list-link">property</a></li></ul></li><li class="nav-list-item"><a href="/docs/value-type.html" class="nav-list-link">value-type</a></li><li class="nav-list-item"><a href="/docs/configuration-examples.html" class="nav-list-link">configuration-examples</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in operator category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/operator.html" class="nav-list-link">operator</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/arithmetic-functions.html" class="nav-list-link">arithmetic-functions</a></li><li class="nav-list-item"><a href="/docs/ordering-functions.html" class="nav-list-link">ordering-functions</a></li><li class="nav-list-item"><a href="/docs/aggregation-functions.html" class="nav-list-link">aggregation-functions</a></li><li class="nav-list-item"><a href="/docs/conversion-functions.html" class="nav-list-link">conversion-functions</a></li><li class="nav-list-item"><a href="/docs/classify-functions.html" class="nav-list-link">classify-functions</a></li><li class="nav-list-item"><a href="/docs/transcendental-functions.html" class="nav-list-link">transcendental-functions</a></li><li class="nav-list-item"><a href="/docs/predicates-functions.html" class="nav-list-link">predicates-functions</a></li><li class="nav-list-item"><a href="/docs/logical-functions.html" class="nav-list-link">logical-functions</a></li><li class="nav-list-item"><a href="/docs/relational-functions.html" class="nav-list-link">relational-functions</a></li><li class="nav-list-item"><a href="/docs/selection-functions.html" class="nav-list-link">selection-functions</a></li><li class="nav-list-item"><a href="/docs/rescale-functions.html" class="nav-list-link">rescale-functions</a></li><li class="nav-list-item"><a href="/docs/constant-functions.html" class="nav-list-link">constant-functions</a></li><li class="nav-list-item"><a href="/docs/trigonometric-functions.html" class="nav-list-link">trigonometric-functions</a></li><li class="nav-list-item"><a href="/docs/geometric-functions.html" class="nav-list-link">geometric-functions</a></li><li class="nav-list-item"><a href="/docs/network-functions.html" class="nav-list-link">network-functions</a></li><li class="nav-list-item"><a href="/docs/grid-functions.html" class="nav-list-link">grid-functions</a></li><li class="nav-list-item"><a href="/docs/string-functions.html" class="nav-list-link">string-functions</a></li><li class="nav-list-item"><a href="/docs/file,-folder-and-read-functions.html" class="nav-list-link">file,-folder-and-read-functions</a></li><li class="nav-list-item"><a href="/docs/unit-functions.html" class="nav-list-link">unit-functions</a></li><li class="nav-list-item"><a href="/docs/matrix-functions.html" class="nav-list-link">matrix-functions</a></li><li class="nav-list-item"><a href="/docs/sequence-functions.html" class="nav-list-link">sequence-functions</a></li><li class="nav-list-item"><a href="/docs/metascript-functions.html" class="nav-list-link">metascript-functions</a></li><li class="nav-list-item"><a href="/docs/allocation-functions.html" class="nav-list-link">allocation-functions</a></li><li class="nav-list-item"><a href="/docs/miscellaneous-functions.html" class="nav-list-link">miscellaneous-functions</a></li></ul></li></ul> </nav> <footer class="site-footer"> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GeoDMS wiki" aria-label="Search GeoDMS wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/ObjectVision/GeoDMS" class="site-button" > GeoDms on Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <p>Note: This is a Final draft document and for discussion purposes. Stated proposals and guidelines are not binding to the SAWEC team nor PBL.</p> <h3 id="ict-context"> <a href="#ict-context" class="anchor-heading" aria-labelledby="ict-context"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ICT context </h3> <h4 id="rekencontext"> <a href="#rekencontext" class="anchor-heading" aria-labelledby="rekencontext"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rekencontext </h4> <ul> <li>7 tot 9 miljoen woningen obv BAG verblijfsobjecten met wonen als gebruiksdoel, met een jaarlijkse mutatie obv met Ruimtescanner bepaalde nieuwbouw en sloop</li> <li>tot 400 optionele maatregelen (hoofdopties: schilmaatregelen in 8 bouwdelen met ieder 3 kwaliteiten, Ruimteverwarming -&gt; InstallatiePerProduct ).</li> <li>51 zichtjaren, waarvan 21 voor kalibratie en 20 voor simulatie</li> <li>jaarlijkse activatie van woningen, op basis van voorselectiecriteria op installatie en/of gebouwdeel eigenschappen, waaronder (resterende) levensduur, tbv woning-investeringen obv toepassingscriteria, een discreet keuze model (nested logit choice, S-curves), en volgende ambitietoedeling.</li> <li>afweging maatregelen obv trekking pro rato S-curve op return on investment (positieve cash flow versus duration o.i.d.).</li> </ul> <p>SAWEC 2.0 moet:</p> <ul> <li>een scenario binnen 1 uur door kunnen rekenen op de Windows 10 Azure omgeving van TNO/PBL,</li> <li>kunnen rekenen op een stand alone Windows 10 machine met 16 GB RAM</li> <li>zo mogelijk (dit hangt af van de functionele specificatie van woning overstijgende ambities e.d.) een aselecte steekproef van woningen met geschaalde budgetten en ambities binnen 2 uur door kunnen rekenen</li> </ul> <h4 id="architectuurcontext"> <a href="#architectuurcontext" class="anchor-heading" aria-labelledby="architectuurcontext"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Architectuurcontext </h4> <ul> <li>zie documentatie NEV-Rekensysteem <ul> <li>aan te roepen vanuit een batch file</li> <li>invoer en uitvoer bestanden als .csv die mbv KEV tools interacteren met de MS Access database op Y</li> </ul> </li> <li>performance van interactief werken, mb.v. GeoDmsGUI kan worden verbeterd door: <ul> <li>gemakkelijk in te kunnen stellen welke tussenresultaten wel en niet te bewaren ten behoeve van calculation tracing</li> <li>schakelen in random sample-size versus het volledige doorrekenen</li> <li>het kunnen instellen van studiegebieden</li> </ul> </li> <li>stand alone, of op 1 Azure machine</li> <li>schaalbaar naar rekenen met k machines op Azure.</li> </ul> <h3 id="uitwerking-rekenstructuur"> <a href="#uitwerking-rekenstructuur" class="anchor-heading" aria-labelledby="uitwerking-rekenstructuur"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Uitwerking rekenstructuur </h3> <h4 id="belangrijkste-entiteiten-tabellen-en-attributen"> <a href="#belangrijkste-entiteiten-tabellen-en-attributen" class="anchor-heading" aria-labelledby="belangrijkste-entiteiten-tabellen-en-attributen"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Belangrijkste Entiteiten (tabellen) en Attributen </h4> <p>zie ook document 20210222_Woningdataflow.pdf</p> <p>Woningen in een Dynamische Woningtabel</p> <ul> <li>hebben een begin- en eindjaar</li> <li>bestaande en nieuwbouwwoningen worden niet onderscheiden</li> <li>hebben 1 aansluiting (bestaande woningen) of eventueel meerdere aansluitingen (igv ongedifferentieerde projecties toekomstige woningen) en een gebruiksoppervlakte</li> <li>hebben een id obv de BAG of Ruimtescanner output, en een aanvullend volgnummer gerelateerd aan de levensduur opsplitsing.</li> <li>hebben een aan de id gerelateerd willekeurig getal tussen 0 en 2^32-1 tbv steekproefselectie en als random seed tbv het doen van kanstrekkingen, zoals woninginvesteringsbeslissing pro rato de uitkomsten van de S-curve toepassing.</li> <li>gebouwinformatie en oppervlakken (zie Woningdataflow.pdf) <ul> <li>zijn onafhankelijk van de te kiezen woninginvesteringen</li> <li>oppervlakken en de meeste gebouwinformatie kenmerken zijn constant gedurende de levensduur van een woning</li> </ul> </li> <li>huur/koop/sociaal situatie en bewoners kenmerken zoals huishoudensgrootte en/of inkomencategorie kunnen dynamisch zijn, maar te overwegen is om een niet erg veranderlijk deel van deze kenmerken ook als statisch te definiëren en bij geprojecteerde veranderingen deze te administreren als ware het een combinatie van sloop en nieuwbouw.</li> <li>bronnen voorbewerking <ul> <li>Historisch vanaf 2000: alle BAG woningen met start- en eindjaar. Met het BAG snapshot proces zal een historische database van woningen kunnen worden opgebouwd. Hierin zullen woningen die voor 2012 gesloopt zijn waarschijnlijk niet goed zijn opgenomen en bij het ontbreken daarvan zal wellicht een onderschatting van het totaal verbruikt of een overschatting van het verbruik per woning volgen.</li> <li>Heden: BAG + CBS + @@@FO</li> <li>Toekomst: sloop per raster per type: Boolean; nieuwbouw: aantallen per woningtype, aan te vullen met bouwdeel en installatie start eigenschappen; interpolatie naar 1 jaarsperioden</li> <li>stochastisch vastgestelde woningmutaties op grond van regionale verwachtingen uit bijvoorbeeld Ruimtescanner output</li> </ul> </li> <li>overheveling sociale en commerciële huur en koop.</li> </ul> <p>Woningen in een specifiek zichtjaar</p> <ul> <li>hebben een dynamische status bestaande uit: <ul> <li>een 1..3 kwaliteit per bouwdeel (8x)</li> <li>wel of niet een gas of H2 aansluiting; het hebben van een warmtenet aansluiting kan als exogeen beschouwd worden.</li> <li>een installatie per functioneel-product (10x) met een aanschafjaar per installatie</li> </ul> </li> <li>hebben een verwachte WOZ waarde</li> <li>huur/koop/sociaal situatie en bewoners kenmerken zoals huishoudensgrootte en/of inkomenscategorie, voor zover niet meegenomen in de definitie van wat een woning identificeert.</li> </ul> <p>Stamtabellen</p> <ul> <li>bouwdeel: {RO: Raam onder, RB: Raam boven, DR: deur, PL: paneel, MG: gevel, MS: spouwmuur, DS: Schuin dak, DP: plat dak }</li> <li>product: {RWb, RWp, TWb, TWp, KDb, KDp, AS, DK, KK, VT}</li> <li>zichtjaar</li> <li>woninginvestering <a href="sawec:woninginvesting" title="wikilink">sawec:woninginvesting</a>: <ul> <li>per bouwdeel (8x): verbetering 1-&gt;2, 1-&gt;3 of 2-&gt;3,of niet van toepassing</li> <li>per functioneel-product (10x); installatie met gerelateerde performance, primaire energiedrager (MT, LT, gas, H2), electrisch verbruik en investeringskosten</li> <li>heeft technisch en beleidsmatige toepassingscriteria (een investering kan worden opgelegd door in casu niets doen niet van toepassing te laten zijn)</li> </ul> </li> </ul> <!-- --> <ul> <li>Activerings criteria: <ul> <li>kunnen doelgroep gerelateerd zijn of vervangingsverwachting van een bouwdeel-kwaliteitsniveau of installatie, waaronder dak en AfgifteSysteem;</li> <li>leiden tot activering van een bouwdeel of product.</li> <li>activeert die woninginvesteringen die (al dan niet) alleen de geactiveerde bouwdeel of installatie verbeteren.</li> </ul> </li> </ul> <p>Overige brondata</p> <ul> <li>(dynamische) klimaatkaarten</li> <li>ingroeikaarten warmtenetten.</li> </ul> <h4 id="in-tabelvorm-of-rekenregels-uit-te-werken"> <a href="#in-tabelvorm-of-rekenregels-uit-te-werken" class="anchor-heading" aria-labelledby="in-tabelvorm-of-rekenregels-uit-te-werken"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> In tabelvorm of rekenregels uit te werken: </h4> <ul> <li>functionele vraag: <ul> <li>hoe wordt die berekend voor verschillende bouwdeel kwaliteiten?</li> <li>hoe wordt performance per bouwdeel optie gespecificeerd?</li> <li>rekenregels specifiek voor bouwdelen of te generaliseren tot enkele tabellen ?</li> </ul> </li> <li>metervraag: gegeven een functionele vraag, berekening conform gegeven installaties en performances, wellicht zoals in Vesta, met toevoeging van dak, ventilatie, en keukenapparatuur</li> <li>beleidsmaatregelen (belastingen, subsidies): <ul> <li>@@@FO: generieke tarieven of criteria en tarieven per investeringscomponent.</li> </ul> </li> <li>doelen en ambities (te realiseren na toewijzing individuele woninginvesteringen): <ul> <li>hebben een groepscriterium (bijvoorbeeld alle huurwoningen)</li> <li>stellen een minimum of maximum aantal woningen met een bepaald bouwdeel kwaliteit of product-installatie</li> <li>of stellen een maximum individueel of gemiddelde metervraag per energie-drager</li> <li>of stellen een minimum individueel of gemiddelde bouwdeel kwaliteit</li> </ul> </li> <li>kostentabellen en/of leercurves: <ul> <li>voor installaties</li> <li>kosten [EUR/m^2] bouwdeelverbeteringen per niveausprong {1-&gt;2, 1-&gt;3, 2-&gt;3} per bouwdeel, zijn afhankelijk van het vertrekpunt (itt installaties)</li> </ul> </li> </ul> <!-- --> <ul> <li>gedrag en de verandering daarvan (tgv o.a. overheidsbeleid) <ul> <li>verbruiksgedrag(bewoners eigenschappen) * oppervlaktes(woning eigenschappen) / R(kwaliteit bouwdelen) -&gt; functionele vraag <ul> <li>rebound ?</li> <li>correlaties ?</li> </ul> </li> <li>investerings gedrag ofwel de afweging van alternatieve toegestane woninginvesteringen igv een activatie: <ul> <li>nested choices met S-Curve parameters per sub-populatie, zie @@@FO, <ul> <li>hoofdkeuze: energiedrager ruimteverwarming, en</li> <li>sub-keuze: gewenste isolatiekwaliteit.</li> <li>gegeven een hoofdkeuze en isolatiekwaliteit, maak een afweging van alternatieve woninginvesteringen op basis van een discounted cash-flow inclusief comfort effecten en een S-curcve, @@@FO: hoe?</li> </ul> </li> </ul> </li> </ul> </li> <li>normeringen en verplichtingen op woningniveau worden geïmplementeerd door activeringscriteria en toepasbaarheid van gerelateerde woninginvesteringen.</li> </ul> <h4 id="onzekerheid-attribuutwaarden"> <a href="#onzekerheid-attribuutwaarden" class="anchor-heading" aria-labelledby="onzekerheid-attribuutwaarden"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Onzekerheid attribuutwaarden </h4> <p>Binnen de context van 1 run worden alle waarden van attributen (van woningen en opties voor woningen) als vast per tijdstap verondersteld en bepaald door invoerdata, rekenregels en de waarden van voorgaande tijdstappen. SAWEC is daarmee een dynamisch simulatiemodel. Projecties naar de toekomst spelen in deze simulatie een beperkte rol, namelijk bij het evalueren van te overwegen woninginvesteringen, waarbij een investering wordt afgewogen tegen de verwachte (vermindering van) toekomstige kosten. Onzekerheid wordt geoperationaliseerd door tijdens de simulatie pseudo random trekkingen te doen. Dit speelt een rol bij:</p> <ul> <li>het kiezen van de primaire energiedrager voor ruimteverwarming op basis van een S-curve score op hoofdlijnen, waaronder beste score per energiedrager, maar met een lager gewicht dan in de nested-choice</li> <li>het kiezen uit de toegestane woninginvesteringen op basis van de S-curve score per investeringsoptie</li> <li>in voorbewerkingen (pre-pocessing): <ul> <li>het vaststellen van woningmutaties op grond van regionale verwachtingen (uit bijvoorbeeld Ruimtescanner output) met betrekking tot sloop en nieuwbouw</li> <li>het selecteren van woningen voor transitie huur/koop/sociaal</li> <li>het relateren van (verwachte regionale) inkomensklasse verdeling aan woningen</li> </ul> </li> </ul> <p>Aangezien een aantal van bovenstaande stochastische attributen niet als onafhankelijk beschouwd kan worden, is het van belang goed aandacht te besteden aan de organisatie van de trekkingen. Wanneer bijvoorbeeld bekend is dat CBS buurten met veel sociale huurwoningen ook relatief veel huishoudens wonen met lage inkomensklasse, worden verdelingsvraagstukken onderbelicht wanneer in een buurt met 50% huur/koop en 50% laag/hoog inkomen deze attribuutwaarden onafhankelijk worden gesampled.</p> <h4 id="gebruik-en-bediening-use-cases"> <a href="#gebruik-en-bediening-use-cases" class="anchor-heading" aria-labelledby="gebruik-en-bediening-use-cases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Gebruik en bediening, use cases </h4> <p>SAWEC dient allereerst gebruikt te kunnen worden om met extern ingestelde parameters een tijdreeks door te rekenen en resultaten in .csv bestanden te bewaren</p> <ul> <li>met name binnen het kader van KEV-runs mbv het NEV-Rekensysteem.</li> <li>meestal 1 run, bestaande uit het simuleren van alle toekomstige zichtjaren, soms ook het draaien van productie-batches of sensitivity-batches.</li> <li>een run dient distribueerbaar te zijn over een op te geven aantal AZURE machines of op een stand-alone Windows 10 Desktop of Workstation.</li> </ul> <p>Aanvullend zal SAWEC gebruikt worden tbv</p> <ul> <li>gevoeligheidsanalyse: meerdere runs met eigen instellingen. Waarschijnlijk zal het bij het doorrekenen van een groot aantal runs effectiever zijn om niet de woningen maar de runs over verschillende machines te verdelen; een batch van runs kan beter per bundel runs gedistribueerd worden, maar dit heeft bij de implementatie van SAWEC geen prioriteit, kan later alsnog eenvoudig aanvullend geïmplementeerd worden,</li> <li>model kalibratie van Activatie en S-curve parameters op historische data. Optimalisatie van een Goodness of Fit van model-uitkomsten en waarnemingen? Dit behoeft mogelijk aanvullende statistische optimalisatie tools, zoals modules tbv multi-nominal logistic regression, beschikbaar in o.a. R. De opzet van model-kalibratie behoeft aanvullende bestudering en ontwerp en eventueel implementatie door iteratief bijgestuurd doorrekenen van een historische situatie mbt GeoDmsRun</li> <li>interactief werken tbv exploratie en herleiden van resultaten, en het debuggen van aannames en rekenregels: GeoDmsGui.</li> <li>productie van tijdreeksen tbv grafieken in bijvoorbeeld Excel. <ul> <li>er kan een lijst indicatoren per zichtjaar worden ge-exporteerd, hiermee kan met een grafiek tool, zoals Excel, een tijdreeks grafiek worden samengesteld.</li> <li>De gebruiker kan vooraf aan een run aangeven van welke indicatoren een tijdreeks tabel gevormd moet worden tbv gemakkelijkere verwerking tot tijdreeks grafieken,.</li> </ul> </li> </ul> <h4 id="invoer-en-parameterisatie"> <a href="#invoer-en-parameterisatie" class="anchor-heading" aria-labelledby="invoer-en-parameterisatie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Invoer en parameterisatie </h4> <p>invoer data bestanden, waaronder parameter files in .csv format omvatten:</p> <ul> <li>een selectiecriterium van woningen: alle, of op basis van kenmerken en/of een bepaald studiegebied</li> <li>het aantal rekenmachines. Wanneer op Azure gewerkt wordt, zal er in voorzien zijn dat meerdere rekenmachines gestart kunnen worden die ieder een deel van de woningen simuleren en resultaten daarvan weg schijven op een gedeelde folder. De aansturende machine zal na gereedkoming de resulterende resultaten samenvoegen.</li> <li>alle of een bepaalde random gekozen fractie tbv snellere resultaten. Woning-keuze overstijgende ambities en budgetten zullen pro rato zulke fracties en eventuele distributie over verschillende rekenmachines worden toebedeeld.</li> <li>.csv formaat tabellen met woningkenmerken stamtabellen, leercurves,</li> <li>.csv .shp of .tif formaat tabellen met brongegevens woningen uit de BAG, Ruimtescanner en gedownsamplede CBS brongegevens</li> </ul> <p>GeoDMS script bestanden, waarvan een gedeelte gemarkeerd is als zijnde eenvoudig wijzigbaar door gebruikers tbv het definiëren van een run .</p> <p>Ontkoppelde voorbewerkte data, te lezen it een snel binair dataformaat zoals .fss, TIF, en/of NetCDF, waaronder</p> <ul> <li>resultaten van kalibratie</li> <li>een dynamische tabel van historische, bestaande en toekomstige woningen (mbv een begin- en eventueel eind-jaar) met een toegekend random volgnummer tbv sampling en distributie.</li> <li>klimaatkaarten met aantal vorstdagen.</li> </ul> <p>Dit dient in het Functioneel Ontwerp of elders verder uitgewerkt te worden met een technische beschrijving van de belangrijkste te lezen .csv bestanden. met opslaglocatie, filenaam, formaat, en attribuut namen</p> <h4 id="uitvoer"> <a href="#uitvoer" class="anchor-heading" aria-labelledby="uitvoer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Uitvoer </h4> <p>Extensieve statistieken van de gesimuleerde woning-samples met ten minste functionele vraag per gebruiksdoel en metervraag per energiedrager, per installatiepakket per jaar, en per koop/huur/sociaal categorie.</p> <p>Dit dient in het Functioneel Ontwerp of elders verder uitgewerkt te worden met een technische beschrijving van de belangrijkste resulterende .csv bestanden. met opslaglocatie, filenaam, formaat, en attribuut namen</p> <h4 id="kev-interactie"> <a href="#kev-interactie" class="anchor-heading" aria-labelledby="kev-interactie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> KEV interactie </h4> <ul> <li>Mbv de GUI van het NEV-RekenSysteem kan worden gekozen voor welk project, scenario, en model.run jaren gerekend moet worden. Mbv environent variabelen zal SAWEC de daarbij behorende data paden voor invoer en uitvoer moeten kunnen bepalen</li> <li>In het NEV-Rekensysteem is ook een SAWEC parameter dialoog te activeren. Hierin door de gebruiker gekozen instellingen dienen ook in een parameter file te worden geschreven en door SAWEC gelezen. Specificatie van deze GUI zal in de uitwerking van het Functioneel Ontwerp beschreven moeten worden.</li> <li>lezen van KEV energieprijzen, economische parameters, en warmtenetten van NEV-RS in .csv format met TAB separators.</li> <li>schrijven van verbruiksgegevens naar NEV: .csv formaat.</li> <li>afnemers SAWEC resultaten: SELPE, SAVE-Production, RESolve-E, Competes (elektriciteit)</li> <li>voor SELPE nodig: verbruiksgegevens per installatie per jaar, per koop/huur/sociaal categorie, fictief verbruik.</li> <li>bij gedistribueerde simulatie van woningen, is het nodig de extensieve statistieken van de woning-samples te aggregeren en de gedistribueerde aggregaties samen te voegen. Dit kan als postprocessing stap na completering van de gedistribueerde berekening opgezet worden.</li> </ul> <p>Dit dient in het Functioneel Ontwerp of elders verder uitgewerkt te worden.</p> <h3 id="performance-en-geheugenbeheer"> <a href="#performance-en-geheugenbeheer" class="anchor-heading" aria-labelledby="performance-en-geheugenbeheer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance en geheugenbeheer </h3> <p>Hierbij een overzicht van technieken en methoden om aan de gestelde rekentijden te kunnen gaan voldoen.</p> <p>Allereerst een beschrijving van de huidige architectuur, technieken en mogelijkheden om snel te rekenen en vervolgens mogelijke verbeterpunten.</p> <h4 id="huidige-geodms-technieken-tbv-het-snel-toepassen-van-rekenmodellen"> <a href="#huidige-geodms-technieken-tbv-het-snel-toepassen-van-rekenmodellen" class="anchor-heading" aria-labelledby="huidige-geodms-technieken-tbv-het-snel-toepassen-van-rekenmodellen"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Huidige GeoDMS technieken tbv het snel toepassen van rekenmodellen. </h4> <h5 id="rekenen-met-arrays"> <a href="#rekenen-met-arrays" class="anchor-heading" aria-labelledby="rekenen-met-arrays"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rekenen met arrays </h5> <p>Het datamodel van de GeoDMS bestaat uit</p> <ul> <li><a href="Domain_unit" title="wikilink">Entiteiten</a>. Een entiteit is een value-range met metriek of projectie informatie, met een eventuele segmentatie van die range (aka tiling).</li> <li><a href="Attribute" title="wikilink">Attributen</a>. Een attribuut is een mappings tussen twee entiteiten, geoperationaliseerd als gesegmenteerde arrays van data-elementen.</li> </ul> <p>De data-values van zowel entiteiten als attributen kunnen</p> <ul> <li>expliciet gedefinieerd worden,</li> <li>gerelateerd worden aan een externe bron, of</li> <li>voorzien van een rekenregel waarmee de waarden berekend moeten worden.</li> </ul> <p>Een rekenproces bestaat uit het uitvoeren van reken-operaties op arrays hetgeen processing units veel sneller doen dan als voor iedere rekenstap nieuwe instructies verwerkt moeten worden, mede dankzij SIMD vectorisatie mogelijkheden en vergelijkbare optimalisatie technieken.</p> <p>Iedere instantiatie van een geparametriseerd reken script dient benoemd te worden, net als iedere instantiate van een for_each repetitie of loop, waarmee iedere berekende entiteit en attribuut een unieke naam heeft en iedere naam een eenduidige data-value. Het ontbreken van object states geeft de voordelen van functioneel programmeren: <a href="https://nl.wikipedia.org/wiki/Referenti%C3%ABle_transparantie">Referentiele Transparantie</a> <a href="https://nl.wikipedia.org/wiki/Memoization">memoization</a> en herberekenbaarheid.</p> <p>Dit value based rekenmodel maakt mogelijk een rekenproces te beschouwen als data-flow diagram van data-values en rekenstappen waarbij het beschikbaar hebben van een data-value voorgesteld kan worden als een pebble op dat diagram en het uitvoeren van een rekenstap kan aanvangen als alle benodigde data-values van een pebble zijn voorzien, resulterend in een pebble op het reken-resultaat. Het bereiken van een rekendoel kan dmv een strategie waarmee steeds een linie tussen bronnen en rekendoel wordt dichtgehouden. Data-values kunnen voor meerdere rekenoperaties gebruikt worden (memoization) of juist on-demand, just in time, opnieuw berekend worden. Ook kan er ingesteld worden dat bepaalde resultaten langer bewaard worden tbv hergebruik in toekomstige rekendoelen, wat vooral handig is als een gebruiker stap voor stap wil nalopen hoe een resultaat-element berekend is (calculation tracing).</p> <p>De huidige rekenstrategie van de GeoDms is om voor gevraagde resultaten alle benodigde rekenstappen te beschouwen en steeds rekenstappen waarvoor de benodigde data-values beschikbaar zijn in een start-queue te zetten en te starten voor zover het maximum aantal reken-threads, nu gelijk gesteld aan het aantal processing-units, dat toelaat. Steeds wanneer een rekentaak gereed komt, wordt dit opnieuw geëvalueerd. Een data-value wordt bewaard totdat het laatste gebruik in een rekentaak geëindigd is.</p> <h5 id="data-segmentatie"> <a href="#data-segmentatie" class="anchor-heading" aria-labelledby="data-segmentatie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data segmentatie </h5> <p>Teneinde grote datasets beter behapbaar en in meerdere threads bewerkbaar te maken, kan de value-range van een entiteit gesegmenteerd worden. Gerelateerde attributen worden hiermee gesegmenteerd. De meeste rekenoperaties, met name die die per element gedefinieerd zijn, zijn zo opgezet dat deze per data-segment werken en dat de verwerking van verschillende data-segmenten over verschillende threads verdeeld worden.</p> <p>Zie ook:</p> <ul> <li><a href="GeoDMS_Academy" title="wikilink"><a href="https://www.geodms.nl/GeoDMS_Academy">https://www.geodms.nl/GeoDMS_Academy</a></a></li> <li><a href="Value_based_calculating" title="wikilink"><a href="https://www.geodms.nl/Value_based_calculating">https://www.geodms.nl/Value_based_calculating</a></a></li> <li><a href="https://nl.wikipedia.org/wiki/Functioneel_programmeren">https://nl.wikipedia.org/wiki/Functioneel_programmeren</a></li> <li>Taskflow: A Parallel and Heterogeneous Task Programming System Using Modern C++ - Tsung-Wei Huang <a href="https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s">https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s</a></li> <li>Rust programming language concepts <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)">https://en.wikipedia.org/wiki/Rust_(programming_language)</a></li> </ul> <h4 id="verbeteropties"> <a href="#verbeteropties" class="anchor-heading" aria-labelledby="verbeteropties"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verbeteropties </h4> <h5 id="virtuele-data-segmenten-en-pipelining"> <a href="#virtuele-data-segmenten-en-pipelining" class="anchor-heading" aria-labelledby="virtuele-data-segmenten-en-pipelining"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Virtuele data segmenten en pipelining </h5> <p>De huidige GeoDMS strategie van eenmalig berekenen en tot laatste gebruik bewaren van data-values is niet optimaal voor eenvoudig te (re)genereren data-values, zoals in</p> <p><code class="language-plaintext highlighter-rouge">attribute</code><kW>` Aansluitwaarde(woning) := const(3[kW], woning);` `attribute`<kW>` NetCapaciteit (woning)):= Aansluitwaarde * GelijktijdigheidsFactor[woning_Categorie];`</kW></kW></p> <p>Ook is het wenselijk pipelining van data-flow per segment uit te gaan voeren teneinde niet alle data-value segmenten van tussenresultaten tegelijk te hoeven bewaren. Verwerking van meerdere operaties per segment in plaats van alle segmenten per operatie te verwerken zal leiden tot kleiner benodigd geheugen. Voorgesteld wordt om het resultaat van een rekenoperatie niet altijd te laten bestaan uit een reeks array segmenten, maar soms uit een reeks functors die de array segmenten op aanvraag kunnen (her)berekenen, waarbij de gebruikende operatie (die nu een tile-read lock houdt) een shared owner is van het data-value segment.</p> <h5 id="slimmere-herschrijving-van-rekenregels"> <a href="#slimmere-herschrijving-van-rekenregels" class="anchor-heading" aria-labelledby="slimmere-herschrijving-van-rekenregels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Slimmere herschrijving van rekenregels. </h5> <p>Voordat rekenregels toegepast worden, vindt eerst toepassing van herschrijfregels plaats, waarmee o.a. sommige reken-operaties in termen van andere operaties worden gedefinieerd. Momenteel kunnen deze herschrijfregels niet selectief toegepast worden.</p> <p>Aangezien in Vesta/Mais en SAWEC 2.0 veel attributen woning specifiek moeten kunnen zijn tbv enkele woningmaatregelen maar voor de meeste woningmaatregelen een eenvoudige implementatie van 0 of een constante waarde hebben, is het zinvol hier gebruik van te maken in de verwerking van de rekenregels. Het herkennen van een factor of term met de waarde 0 kan voorkomen dat onnodig gerekend wordt en invulling van zulke specifieke rekenregels in een generiek sjabloon zou moeten kunnen leiden tot het wegsubstitueren van veel woning specifieke berekeningen.</p> <p>Het in bovenstaand voorbeeld herkennen dat een resultaat berekend kan worden en constant is per categorie van woningen, kan voorkomen dat voor een concrete subset van woningen en woningOpties voor ieder woning dezelfde berekening gemaakt wordt.</p> <h5 id="parallellisatie-en-sampling"> <a href="#parallellisatie-en-sampling" class="anchor-heading" aria-labelledby="parallellisatie-en-sampling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parallellisatie en sampling </h5> <p>Met parallellisatie wordt hier bedoeld: het over meerdere Azure Windows 10 machines verdelen van rekentaken teneinde sneller rekenresultaten te verkrijgen. Ieder machine heeft:</p> <ul> <li>een lokale kopie van de software, de source data, en lokale opslag voor tussenresultaten (SSD 64 GB),</li> <li>lees/schrijf toegang tot gemeenschappelijke opslag,</li> <li>en weet via environment variabelen hoeveel machines er ingezet worden en wat het volgnummer van de machine zelf is.</li> </ul> <p>Teneinde rekenwerk aan woningen en woninginvesteringen over meerdere rekenmachines te kunnen verdelen, is een mate van onafhankelijkheid van de keuzes wenselijk. Dit speelt met name bij:</p> <ul> <li>toepassing van subsidieregelingen met een gelimiteerd budget</li> <li>toepassing van ambitie regels, waarbij na individuele investeringsbeslissingen bij een eventueel resterend quotum van de woningen een maatregel wordt toegepast.</li> </ul> <h5 id="distributie-van-gescheiden-rekentaken"> <a href="#distributie-van-gescheiden-rekentaken" class="anchor-heading" aria-labelledby="distributie-van-gescheiden-rekentaken"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Distributie van gescheiden rekentaken </h5> <p>Wanneer SAWEC met een reeks van verschillende scenario-instellingen gedraaid moet worden, zoals bij een gevoeligheidsanalyse, is parallellisatie relatief eenvoudig.</p> <p>Een gemeenschappelijke lijst van taken en het gedistribueerde oppakken van die taken en wegschrijven van resultaten in een gedeelde folder tbv postprocessing volstaat.</p> <h5 id="random-distributie-van-rekenwerk-met-restricties"> <a href="#random-distributie-van-rekenwerk-met-restricties" class="anchor-heading" aria-labelledby="random-distributie-van-rekenwerk-met-restricties"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Random distributie van rekenwerk met restricties </h5> <p>Woning overstijgende subsidieregelingen en ambities kunnen beschouwd worden als een op de uitkomsten van toepassing zijnde restrictie met een bijbehorende schaduwprijs die onderscheidt welke woningen wel en niet mee doen. Bepaling van die schaduwprijs is een niet lokale berekening. Toepassing van die prijs wel.</p> <p>Als n woningen random over k machines worden verdeeld en fractie p := m/n van de woningen in aanmerking komt voor een regeling, is het verwacht aantal woningen dat op een specifieke machine in aanmerking komt voor een regeling: m/k, met als standaarddeviatie SQRT(n/k * m/n * (1-m/n)) = SQRT(m/k * (1-m/n)), dus iets kleiner dan SQRT(m/k). Wanneer een schaduwprijs op basis van een random geselecteerde deelverzamelingen worden bepaald door restricties volgens de opsplitsing mee te schalen, zullen een beperkt aantal woningen aan de verkeerde groep worden toegewezen en de werkelijke schaduwprijs zal ergens tussen de k gedistribueerd vastgestelde schaduwprijzen gevonden moeten worden. Het aantal dan centraal opnieuw te beschouwen woningen zijn de woningen die binnen de gevonden schaduwprijs range liggen, naar verwachting k* SQRT(m/k) = SQRT(m*k) woningen. Het wordt aanvaardbaar geacht om deze afwijkingen te negeren en regelingen pro rato gedistribueerd toe te passen.</p> <h5 id="dedicated-distribution"> <a href="#dedicated-distribution" class="anchor-heading" aria-labelledby="dedicated-distribution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dedicated distribution: </h5> <p>Functionele afwegingen:</p> <ul> <li>zijn woningen voldoende homogeen, of zouden juist subsets met verschillende mogelijke woninginvesteringen verdeeld moeten worden.</li> </ul> <p>key words: random sampling, task picking</p> <h4 id="berekeningen-specifiek-voor-geactiveerde-woningen"> <a href="#berekeningen-specifiek-voor-geactiveerde-woningen" class="anchor-heading" aria-labelledby="berekeningen-specifiek-voor-geactiveerde-woningen"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Berekeningen specifiek voor geactiveerde woningen </h4> <p>Afwegingen voor een beperkte subset van alle woningen leiden tot status updates van kenmerken van die woningen. Een snelle operatie die woning attributen bijwerkt is gewenst:</p> <blockquote> <p>status(woning) := actievewoning ? nieuweStatus(invert(activewoning_sel/woning_rel)) : VorigeStatus(woning)</p> </blockquote> <h5 id="functionele-guidelines-tbv-parallellisatie"> <a href="#functionele-guidelines-tbv-parallellisatie" class="anchor-heading" aria-labelledby="functionele-guidelines-tbv-parallellisatie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functionele guidelines tbv parallellisatie </h5> <p>Tbv segmentatie en parallelle verwerking is het wenselijk dat de berekening van woning gerelateerde kenmerken zo min mogelijk afhankelijk is van de rekenuitkomsten van andere woningen.</p> <ul> <li>Voor SAWEC 2.0 is al gesteld dat toepassing van gebiedsopties (zoals warmtenetten) als exogeen beschouwd zullen worden.</li> <li>Segmentering van verblijfsobjecten zou zodanig moeten geschieden dat appartementen in panden met gemeenschappelijke ketels altijd in dezelfde subset vallen, zodat ook investeringen in panden tbv alle appartementen daarin overwogen kunnen worden.</li> <li>in het rekenmodel kan worden opgenomen hoe het machinenummer i en het aantal machines k een rol speelt in de selectie van de te verwerken woningen, zodanig dat dit ook werkt op een stand-alone workstation, dus wanneer k=1.</li> <li>een synchronisatie functie zal moeten worden toegevoegd dat een proces laat wachten op de gereedkoming van k resultaten (files in een gedeelde netwerk-folder), waarna gedistributeerde berekening zich voort zet, bijvoorbeeld met een volgend jaar of iteratie -</li> </ul> <h5 id="structured-dataflows"> <a href="#structured-dataflows" class="anchor-heading" aria-labelledby="structured-dataflows"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Structured Dataflows </h5> <p>Verwerking van huidige dataflow kan leiden tot veel items igv loop unrolling en lang vasthouden van grote tussenresultaten tbv gebruik in daarvan in meerdere eindresultaten. Een manier om beter aan te geven welke (aggregatie) stappen per iteratie uitgevoerd moeten worden voor met volgende rekenstappen verder te gaan, zou kunnen zijn het in de dafa-flow analyse expliciet rekening te houden met een hiërarchie van taken, waarbij de end-nodes van een sub-diagram eerst uitgerekend moeten zijn voor er verder gegaan wordt met een volgende.</p> <p>Zie ook: Taskflow: A Parallel and Heterogeneous Task Programming System Using Modern C++ - Tsung-Wei Huang: <a href="https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s">https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s</a></p> <h5 id="heterogeneous-processing"> <a href="#heterogeneous-processing" class="anchor-heading" aria-labelledby="heterogeneous-processing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Heterogeneous processing </h5> <p>Gebruik van GPU’s voor eenvoudige vector bewerkingen kunnen de CPU’s behoorlijk versnellen en ontlasten</p> <p>mogelijkheden</p> <ul> <li>GeoDMS wordt ontwikkeld met Visual Studio, waarmee array bewerkingen eenvoudig naar GPU’s te verplaatsen zijn mbv Accelerated Massive Parallelism (AMP). De GeoDMS rekenkern code is zodanig opgezet dat hier eenvoudig gebruik van kan worden gemaakt.</li> </ul> <p>kanttekeningen:</p> <ul> <li>beperkte winst wanneer data tussen RAM en disk de bottleneck is</li> <li>winst neemt toe wanneer door geheugengebruik besparingen er minder via deze bottleneck moet</li> <li>AMP is depreciated vanaf VC 2022, vermoedelijk wegens andere ontwikkelingen, met name: <a href="https://en.wikipedia.org/wiki/SYCL">https://en.wikipedia.org/wiki/SYCL</a></li> </ul> <p>Zie ook:</p> <ul> <li><a href="https://docs.microsoft.com/en-us/cpp/parallel/amp/cpp-amp-overview?view=msvc-160">https://docs.microsoft.com/en-us/cpp/parallel/amp/cpp-amp-overview?view=msvc-160</a></li> <li><a href="https://developer.nvidia.com/how-to-cuda-c-cpp">https://developer.nvidia.com/how-to-cuda-c-cpp</a></li> <li>Taskflow: A Parallel and Heterogeneous Task Programming System Using Modern C++ - Tsung-Wei Huang <a href="https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s">https://www.youtube.com/watch?v=MX15huP5DsM&amp;t=2050s</a></li> </ul> <h4 id="horizontaal-en-verticaal-schalen"> <a href="#horizontaal-en-verticaal-schalen" class="anchor-heading" aria-labelledby="horizontaal-en-verticaal-schalen"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Horizontaal en verticaal schalen. </h4> <p><a href="File:Screenshot_2021-02-17_14.26.25.png" title="wikilink">thumb|horizontal vertical architecture|alt=|600x600px|none</a></p> <h5 id="verticaal-schalen-rekenproces-verdelen-over-meer-cores-en-ram-op-1-computer"> <a href="#verticaal-schalen-rekenproces-verdelen-over-meer-cores-en-ram-op-1-computer" class="anchor-heading" aria-labelledby="verticaal-schalen-rekenproces-verdelen-over-meer-cores-en-ram-op-1-computer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verticaal schalen: rekenproces verdelen over meer cores en RAM op 1 computer. </h5> <p>Plafond wordt bepaald door:</p> <ul> <li>hardware: connectedness van fysieke cores en RAM</li> <li>en door de mate waarin de software van meerdere cores gebruik kan maken en niet alle threads kluitjesvoetbal spelen.</li> </ul> <p>Bij het huidig aanbod op Azure lijken de rekenkosten bij horizontaal schalen lineair op te lopen tot aan 256 Cores in stappen van [8 cores + 16 GB ].</p> <h5 id="horizontaal-schalen-rekenproces-verdelen-over-meerdere-deelprocessen-zodat-verdeling-over-meerdere-computers-mogelijk-wordt"> <a href="#horizontaal-schalen-rekenproces-verdelen-over-meerdere-deelprocessen-zodat-verdeling-over-meerdere-computers-mogelijk-wordt" class="anchor-heading" aria-labelledby="horizontaal-schalen-rekenproces-verdelen-over-meerdere-deelprocessen-zodat-verdeling-over-meerdere-computers-mogelijk-wordt"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Horizontaal schalen: rekenproces verdelen over meerdere deelprocessen zodat verdeling over meerdere computers mogelijk wordt, </h5> <p>vereist onafhankelijkheid of tenminste beperkte afhankelijkheid van de deelprocessen</p> <p>bijvoorbeeld doorrekening van woning partities of verdeling van meerdere runs</p> <p>Plafond wordt bepaald door:</p> <ul> <li>hardware: binnen SAWEC context min of meer onbeperkt.</li> <li>zinvolle grootte van een woning partities</li> <li>of aantal runs</li> </ul> <h5 id="kosten"> <a href="#kosten" class="anchor-heading" aria-labelledby="kosten"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kosten </h5> <p>kosten azure [128/256 Cores + 64 GB] ram x 1 uur versus 16/32 x [8 cores + 16 GB ] x 2 uur zijn min of meer gelijk.</p> <p>Zolang een proces met verticaal schalen kan worden versneld, lijkt dit eenvoudiger en effectiever.</p> <h4 id="inschatting-performance-en-performance-verbeteringen"> <a href="#inschatting-performance-en-performance-verbeteringen" class="anchor-heading" aria-labelledby="inschatting-performance-en-performance-verbeteringen"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> inschatting performance en performance verbeteringen </h4> <p>De uiteindelijke rekentijd hangt van veel factoren af en het is lastig daar vooraf harde garanties voor te kunnen geven. Wel kan op basis van nu bekende informatie en kennis over effecten van veranderingen een inschatting te maken,</p> <p>Uitgangspunten:</p> <ul> <li>rekentijd Vesta met 7 miljoen bestaande woningen, een beperkt aantal gebouw-opties, geen gebiedsopties, 21 zichtjaren <ul> <li>op een Azure machine (GeoDms specificatie): <strong>8 uur</strong>.</li> <li>op een snelle thuis-desktop (8 cores, 4.3 GHz DDR4 2133 MHz): 2 uur</li> </ul> </li> <li>kalibratieresultaten en een dynamische woningtabel zijn ontkoppeld beschikbaar gemaakt mbv voorbewerkingen</li> <li>geen gebiedsopties</li> <li>rekenen met 400 woninginvesteringen in plaats van 4 gebouwopties: <strong>factor 100 langzamer</strong></li> <li>alleen doorrekenen van geactiveerde woningen, mits niet meer dan 5% per jaar geactiveerd en selectie en samenvoeg operaties hier goed op werken en niet bij de ambities weer alle woninginvesteringen voor alle andere woningen ook beschouwd hoeven worden: <strong>factor 10 sneller</strong></li> <li>ambities en subsidiebudgettten zijn goed op te delen over tenminste 256 rekenprocessen: <strong>factor 100 sneller</strong></li> <li>zonodig kunnen die Azure machines nu, danwel in de nabije toekomst, nog wel zwaarder en sneller geconfigureerd worden: 2 uur in plaats van 8 uur: <strong>factor 4 sneller</strong></li> <li>conclusie: 8 uur * 100 / 10 / 4 = 20 uur op 1 machine, 1 uur op ongeveer 32 machines en 12 minuten op ongeveer 256 machines.</li> </ul> <h2 id="conclusie"> <a href="#conclusie" class="anchor-heading" aria-labelledby="conclusie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusie </h2> <p>Gestelde rekendoelen zijn haalbaar.</p> <p>Prioriteitenlijst performance vebetering SAWEC</p> <ul> <li>functioneel: zorgen dat het rekenwerk niet meer (tussen) resultaten behoeft dan nodig, de activatie zodanig werkt dat niet woninginvesteringen voor een beperkte subset overwogen hoeven te worden en het rekenwerk kan worden gedistribueerd</li> <li>software: memory issues recentere GeoDms versies oplossen en tot tot die tijd rekenen met Vesta versie GeoDms, dmv beter systematisch toepassen van moderne C++ programmeer concepten, zoals RAII, std:future’s monads in exception handling, etc.</li> <li>technisch: verticaal schalen tot aan 64 GB en 400 Processoren</li> <li>technisch: horizontaal schalen obv verdeling woningen over meerdere processen op dezelfde of verschillende machines</li> <li>software: virtuele data-segmenten en segment-pipelining tbv minder geheugen beslag van tussenresultaten</li> <li>software: structured dataflows</li> </ul> <p>Nog niet voor SAWEC 2.0 doen:</p> <ul> <li>software geschikt maken voor GPU processing</li> <li>supporten van distributie van gescheiden rekentaken (zoals tbv gevoeligheidsanalyses) tbv run-batch processing</li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
