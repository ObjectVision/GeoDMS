<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav ul li a { background-image: none; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>geotiff | GeoDMS wiki</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="geotiff" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://localhost:4000/docs/geotiff.html" /> <meta property="og:url" content="http://localhost:4000/docs/geotiff.html" /> <meta property="og:site_name" content="GeoDMS wiki" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="geotiff" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"geotiff","url":"http://localhost:4000/docs/geotiff.html"}</script> <!-- End Jekyll SEO tag --> <!-- Automatically display code inside script tags with type=math/tex using MathJax --> <script type="text/javascript" defer src="../assets/js/mathjax-script-type.js"> </script> <!-- Copied from https://docs.mathjax.org/en/latest/web/components/combined.html --> <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"> </script> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> GeoDMS wiki </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in software category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/software.html" class="nav-list-link">software</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/system-requirements.html" class="nav-list-link">system-requirements</a></li><li class="nav-list-item"><a href="/docs/installation-instructions.html" class="nav-list-link">installation-instructions</a></li><li class="nav-list-item"><a href="/docs/folders-and-placeholders.html" class="nav-list-link">folders-and-placeholders</a></li><li class="nav-list-item"><a href="/docs/configuration-file-editor.html" class="nav-list-link">configuration-file-editor</a></li><li class="nav-list-item"><a href="/docs/known-issues.html" class="nav-list-link">known-issues</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in user-guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/user-guide.html" class="nav-list-link">user-guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui.html" class="nav-list-link">user-guide-geodms-gui</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui-older-variants-(delphi).html" class="nav-list-link">user-guide-geodms-gui-older-variants-(delphi)</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-run.html" class="nav-list-link">user-guide-geodms-run</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in how-to-model category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/how-to-model.html" class="nav-list-link">how-to-model</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/configuration-basics.html" class="nav-list-link">configuration-basics</a></li><li class="nav-list-item"><a href="/docs/unit.html" class="nav-list-link">unit</a></li><li class="nav-list-item"><a href="/docs/data-source.html" class="nav-list-link">data-source</a></li><li class="nav-list-item"><a href="/docs/expression.html" class="nav-list-link">expression</a></li><li class="nav-list-item"><a href="/docs/template.html" class="nav-list-link">template</a></li><li class="nav-list-item"><a href="/docs/visualisation-style.html" class="nav-list-link">visualisation-style</a></li><li class="nav-list-item"><a href="/docs/property.html" class="nav-list-link">property</a></li></ul></li><li class="nav-list-item"><a href="/docs/value-type.html" class="nav-list-link">value-type</a></li><li class="nav-list-item"><a href="/docs/configuration-examples.html" class="nav-list-link">configuration-examples</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in operator category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/operator.html" class="nav-list-link">operator</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/arithmetic-functions.html" class="nav-list-link">arithmetic-functions</a></li><li class="nav-list-item"><a href="/docs/ordering-functions.html" class="nav-list-link">ordering-functions</a></li><li class="nav-list-item"><a href="/docs/aggregation-functions.html" class="nav-list-link">aggregation-functions</a></li><li class="nav-list-item"><a href="/docs/conversion-functions.html" class="nav-list-link">conversion-functions</a></li><li class="nav-list-item"><a href="/docs/classify-functions.html" class="nav-list-link">classify-functions</a></li><li class="nav-list-item"><a href="/docs/transcendental-functions.html" class="nav-list-link">transcendental-functions</a></li><li class="nav-list-item"><a href="/docs/predicates-functions.html" class="nav-list-link">predicates-functions</a></li><li class="nav-list-item"><a href="/docs/logical-functions.html" class="nav-list-link">logical-functions</a></li><li class="nav-list-item"><a href="/docs/relational-functions.html" class="nav-list-link">relational-functions</a></li><li class="nav-list-item"><a href="/docs/selection-functions.html" class="nav-list-link">selection-functions</a></li><li class="nav-list-item"><a href="/docs/rescale-functions.html" class="nav-list-link">rescale-functions</a></li><li class="nav-list-item"><a href="/docs/constant-functions.html" class="nav-list-link">constant-functions</a></li><li class="nav-list-item"><a href="/docs/trigonometric-functions.html" class="nav-list-link">trigonometric-functions</a></li><li class="nav-list-item"><a href="/docs/geometric-functions.html" class="nav-list-link">geometric-functions</a></li><li class="nav-list-item"><a href="/docs/network-functions.html" class="nav-list-link">network-functions</a></li><li class="nav-list-item"><a href="/docs/grid-functions.html" class="nav-list-link">grid-functions</a></li><li class="nav-list-item"><a href="/docs/string-functions.html" class="nav-list-link">string-functions</a></li><li class="nav-list-item"><a href="/docs/file,-folder-and-read-functions.html" class="nav-list-link">file,-folder-and-read-functions</a></li><li class="nav-list-item"><a href="/docs/unit-functions.html" class="nav-list-link">unit-functions</a></li><li class="nav-list-item"><a href="/docs/matrix-functions.html" class="nav-list-link">matrix-functions</a></li><li class="nav-list-item"><a href="/docs/sequence-functions.html" class="nav-list-link">sequence-functions</a></li><li class="nav-list-item"><a href="/docs/metascript-functions.html" class="nav-list-link">metascript-functions</a></li><li class="nav-list-item"><a href="/docs/allocation-functions.html" class="nav-list-link">allocation-functions</a></li><li class="nav-list-item"><a href="/docs/miscellaneous-functions.html" class="nav-list-link">miscellaneous-functions</a></li></ul></li></ul> </nav> <footer class="site-footer"> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GeoDMS wiki" aria-label="Search GeoDMS wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/ObjectVision/GeoDMS" class="site-button" > GeoDms on Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <p>The <a href="https://en.wikipedia.org/wiki/GeoTIFF">(Geo)Tiff</a> format is our advised format for <a href="grid-data">grid-data</a>, as it:</p> <ul> <li>is open, widely used, binary(fast) and supports multiple compression types.</li> <li>allows geo-referencing projection information to be embedded with (in an accompanying .tfw world file in the same folder) or within the GeoTiff file.</li> </ul> <p>(Geo)Tiff files can be read and written to with the GeoDMS.</p> <h2 id="read"> <a href="#read" class="anchor-heading" aria-labelledby="read"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Read </h2> <p>The GeoDMS supports two ways of reading (Geo)Tiff files:</p> <ul> <li>gdal.grid: for most (Geo)Tiff files, we advice to use gdal.grid (see next subparagraph), except for: <ul> <li>uint2, uint4 and boolean data.</li> <li>palette based (Geo)Tiff files</li> </ul> </li> <li>tiff StorageManager</li> </ul> <h3 id="gdalgrid"> <a href="#gdalgrid" class="anchor-heading" aria-labelledby="gdalgrid"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> gdal.grid </h3> <p>The following example shows how to read a (Geo)Tiff file with <a href="gdal.grid">gdal.grid</a>.</p> <p>The (GeoTiff) file contains the data of a tile of the <a href="https://www.ahn.nl">AHN</a>, in this case: 26az2.tiff.</p> <h4 id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example </h4><pre>
unit&lt;spoint&gt; AHNTile
:   StorageName = "%SourceDataDir%/AHN/26az2.tif" 
,   StorageType = "gdal.grid" 
,   DialogData  = "Geografie/rdc" 
{    
   attribute&lt;float32&gt; GridData;    
   attribute&lt;float32&gt; ReadData (subdomain); 
}
</pre><p>The primary data is read from the 26az2.tif file. The <a href="projection">projection</a> information can also be read from this file, or from a 26az2.tfw file in the same folder. The DialogData property needs to refer to the <a href="how-to-configure-a-coordinate-system">how-to-configure-a-coordinate-system</a> (RD, LatLong etc) to inform the GeoDMS on how to relate the projection information from the GeoTiff to the coordinate system of the configuration.</p> <p>The <a href="geographic-grid-domain">geographic-grid-domain</a> AHNTile is implicitly defined by the projection information and the number of rows/columns of the GeoTiff.</p> <p>The <em>GridData</em> <a href="attribute">attribute</a> has this AHNTile as <a href="domain-unit">domain-unit</a> and is read for the whole grid.</p> <p>The <em>ReadData</em> attribute reads a subset of the data for another domain unit, in the example subdomain. This geographic domain unit needs to be configured and can be used to read for example the AHN data for a building or the land use for a country from a European land use file. If only a (small) selection of a GeoTiff file is needed, using such a <em>ReadData</em> attribute as it is much faster than reading the GridData and making the selection afterwards.</p> <p>Data read from a GeoTiff is automatically <a href="tile">tile</a> in the GeoDMS.</p> <h4 id="options"> <a href="#options" class="anchor-heading" aria-labelledby="options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> options </h4> <p><a href="gdal-options">gdal-options</a> can be configured for reading (Geo)Tiff files with gdal.grid.</p> <p>See: <a href="https://gdal.org/drivers/raster/gtiff.html#open-options">https://gdal.org/drivers/raster/gtiff.html#open-options</a> for a full list of all open options.</p> <h3 id="tiff-storagemanager"> <a href="#tiff-storagemanager" class="anchor-heading" aria-labelledby="tiff-storagemanager"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> tiff StorageManager </h3> <h4 id="example-1"> <a href="#example-1" class="anchor-heading" aria-labelledby="example-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example </h4> <p>The following example shows how to read a (Geo)Tiff file with the tiff <a href="storagemanager">storagemanager</a>.</p> <p>The (GeoTiff) file is one tile of the <a href="https://www.ahn.nl">AHN</a>, in this case: 26az2.tiff.</p><pre>
unit&lt;spoint&gt; AHNTile
:   StorageName = "%SourceDataDir%/AHN/26az2.tif" 
,   DialogData  = "Geografie/rdc" 
{
   attribute&lt;float32&gt; GridData;
   attribute&lt;float32&gt; ReadData (subdomain); 
}
</pre><p>The configuration is quite similar to the <a href="gdal.grid">gdal.grid</a> variant, only the StorageType does not have to be configured.</p> <p>As <a href="gdal">gdal</a> does not support <a href="sub-byte-element">sub-byte-element</a> GeoTiff files, we advice to use the Tiff StorageManager to read boolean, uint2 and uint4 data.</p> <h3 id="truecolor"> <a href="#truecolor" class="anchor-heading" aria-labelledby="truecolor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TrueColor </h3> <p>Both the gdal.vect and the tiff StorageManager can read TrueColor (Geo)Tiff files.</p> <p>The essence of a TrueColor Tiff is that the GridData contains a color value (rgb code) for each grid cell. The GeoDMS supports TrueColor Bitmap/GeoTiff images with 24 bits per pixel (1 byte for red, green and blue values). The <a href="value-type">value-type</a> for the grid data values in the GeoDMS needs to be: uint32.</p> <h4 id="example-2"> <a href="#example-2" class="anchor-heading" aria-labelledby="example-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example: </h4><pre>
unit&lt;spoint&gt; referentie_tiff
:  StorageName = "%projDir%/data/tif/kaart.tif"
,  DialogData  = "Geography/point_rd"
{
   attribute&lt;uint32&gt; GridData: DialogType ="BrushColor";
}
</pre><p>The property DialogType = “BrushColor” is configured to inform the GeoDMS the grid values are interpreted as colors and can be used directly to visualise grid cells in the map view.</p> <h3 id="palette-based"> <a href="#palette-based" class="anchor-heading" aria-labelledby="palette-based"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> palette based </h3> <p>In this variant the GridData <a href="attribute">attribute</a> contain index numbers for each grid cell. These index numbers are related to colors in a palette. The palette is also stored in the GeoTiff file. Based on the number of entries in the palette (related to the number of different colors in the file), the griddata of a palette based GeoTiff is usually configured with value type uint4 (for 16 colors) or uint8 (for a maximum of 255 colors).</p> <p>Palette based can at the moment only be read with the tiff StorageManager.</p> <h4 id="example-3"> <a href="#example-3" class="anchor-heading" aria-labelledby="example-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example: </h4><pre>
unit&lt;uint4&gt; colorindex;
{
   attribute&lt;uint32&gt; palette := Grid/PaletteData,  DialogType = "BrushColor";
}
unit&lt;spoint&gt; referentie_tiff
:   StorageName = "%projdir%/data/tiff_pa.tif"
,   DialogData  = "Geography/point_rd"                    
{
   attribute&lt;colorindex&gt;  GridData;
   attribute&lt;units/color&gt; PaletteData (colorindex);
}
</pre><p>The subitem named GridData refers to the index numbers. The subitem named PaletteData is an attribute with a domain unit that is unifiable with the values unit of the GridData attribute. The PaletteData is also read from or written to the Tiff file.</p> <p>The property DialogType = “BrushColor” is configured for the palette subitem of the palette domain to inform the GeoDMS that the palette values are to be interpreted as colors when visualizing the grid cells in a map view.</p> <p>Other palettes (not directly read from the Tiff file) can also be used, e.g. defined explicitly in the GeoDMS configuration.</p> <h3 id="sqlstring"> <a href="#sqlstring" class="anchor-heading" aria-labelledby="sqlstring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SqlString </h3> <p>the SqlString <a href="property">property</a> is in use for (Geo)Tiff files for 2 purposes:</p> <p>1) Aggregations If a SqlString = “number” is configured, a relation is made (if possible) between the grid data domain and the result domain based on the configured projection. This relation is used to count the number of occurrences of the configured class number in the original Tiff file for the new desired grid cell.</p> <p>2) Multiple bands The following example shows how to read multiple bands (only with gdal.grid)</p><pre> 
unit&lt;uint32&gt; grid_uint8_nth_band
:  StorageName     = "%SourceDataDir%/intput/tiff_uint32.tif"
,  StorageType     = "gdal.grid"
,  DialogData      = "units/point_rd"
,  StorageReadOnly = "True"
{
   attribute&lt;uint8&gt; Red     : SqlString="BANDS=1";
   attribute&lt;uint8&gt; Blue    : SqlString="BANDS=2";
   attribute&lt;uint8&gt; Green   : SqlString="BANDS=3";
   attribute&lt;uint8&gt; Magenta : SqlString="BANDS=4";
}
</pre><h2 id="write"> <a href="#write" class="anchor-heading" aria-labelledby="write"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Write </h2> <p>The GeoDMS supports two ways of writing (Geo)Tiff files:</p> <ul> <li>gdalwrite.grid: for most (Geo)Tiff files, we advice to use gdalwrite.grid (see next subparagraph), except for: <ul> <li>uint2, uint4 and boolean data.</li> <li>palette based (Geo)Tiff files</li> </ul> </li> <li>tiff StorageManager</li> </ul> <h3 id="gdalwritegrid"> <a href="#gdalwritegrid" class="anchor-heading" aria-labelledby="gdalwritegrid"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> gdalwrite.grid </h3> <p><strong>!!! We noticed some issues with writing GeoTiff files with gdalwrite.grid. We advices to use the tiff StorageManager instead of gdalwrite.grid at the moment.</strong></p> <p>The following example shows how to write a (Geo)Tiff file with <a href="gdalwrite.grid">gdalwrite.grid</a>.</p> <h4 id="example-4"> <a href="#example-4" class="anchor-heading" aria-labelledby="example-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example </h4><pre>
unit&lt;spoint&gt; Export_AHNTile := AHNTile
: StorageName = "%LocalDataProjDir%/AHN/26az2.tif" 
, StorageType = "gdalwrite.grid"
{
   attribute&lt;float32&gt; GridData := AHNTile/Export_AHNTile;
}
</pre><h4 id="options-1"> <a href="#options-1" class="anchor-heading" aria-labelledby="options-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> options </h4> <p><a href="gdal-options">gdal-options</a> can be configured for writing (Geo)Tiff files with gdal.grid.</p> <p>See: <a href="https://gdal.org/drivers/raster/gtiff.html#creation-options">https://gdal.org/drivers/raster/gtiff.html#creation-options</a> for a full list of all creation options.</p> <h3 id="tiff-storagemanager-1"> <a href="#tiff-storagemanager-1" class="anchor-heading" aria-labelledby="tiff-storagemanager-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> tiff StorageManager </h3> <p>The following example shows how to write a (Geo)Tiff file with the tiff.</p> <h4 id="example-5"> <a href="#example-5" class="anchor-heading" aria-labelledby="example-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example </h4><pre>
unit&lt;spoint&gt; AHNTile
: StorageName = "%LocalDataProjDir%/AHN/26az2.tif" 
{
   attribute&lt;float32&gt; GridData:= AHNTile/Export_AHNTile;
}
</pre><p>In the same way as with reading, the configuration for writing GeoTiff files is quite similar to the <a href="gdalwrite.grid">gdalwrite.grid</a> variant, only the StorageType does not have to be configured.</p> <p>As <a href="gdal">gdal</a> does not support <a href="sub-byte-element">sub-byte-element</a> GeoTiff files, we advice to use the Tiff StorageManager to write boolean, uint2 and uint4 data.</p> <h3 id="palette-based-1"> <a href="#palette-based-1" class="anchor-heading" aria-labelledby="palette-based-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> palette based </h3> <p>In this variant the GridData <a href="attribute">attribute</a> contain index numbers for each grid cell. These index numbers are related to colors in a palette. The palette is also stored in the GeoTiff file. Based on the number of entries in the palette (related to the number of different colors in the file), the griddata of a palette based GeoTiff is usually configured with value type uint4 (for 16 colors) or uint8 (for a maximum of 255 colors).</p> <p>Palette based can at the moment only be written with the tiff StorageManager.</p> <h4 id="example-6"> <a href="#example-6" class="anchor-heading" aria-labelledby="example-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> example: </h4><pre>
unit&lt;uint4&gt; colorindex
{
   attribute&lt;units/color&gt; palette := Grid/PaletteData, DialogType = "BrushColor";
}
unit&lt;spoint&gt; Read:
   StorageName     = "%projdir%/data/tiff_pa.tif", 
   DialogData      = "units/point_rd",
   StorageReadOnly = "True"
{
   attribute&lt;colorindex&gt;  GridData;
   attribute&lt;units/color&gt; PaletteData (colorindex);
}
container Write: StorageName = "%localDataProjDir%/regr_results/tiff_pa.tif", ExplicitSuppliers = "Read"
{
   attribute&lt;colorindex&gt;  GridData    (Grid)       := Grid/GridData;
   attribute&lt;units/color&gt; PaletteData (colorindex) := Grid/PaletteData;
}
</pre></main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
