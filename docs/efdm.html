<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav ul li a { background-image: none; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>efdm | GeoDMS wiki</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="efdm" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://localhost:4000/docs/efdm.html" /> <meta property="og:url" content="http://localhost:4000/docs/efdm.html" /> <meta property="og:site_name" content="GeoDMS wiki" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="efdm" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"efdm","url":"http://localhost:4000/docs/efdm.html"}</script> <!-- End Jekyll SEO tag --> <!-- Automatically display code inside script tags with type=math/tex using MathJax --> <script type="text/javascript" defer src="../assets/js/mathjax-script-type.js"> </script> <!-- Copied from https://docs.mathjax.org/en/latest/web/components/combined.html --> <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"> </script> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> GeoDMS wiki </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in software category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/software.html" class="nav-list-link">software</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/system-requirements.html" class="nav-list-link">system-requirements</a></li><li class="nav-list-item"><a href="/docs/installation-instructions.html" class="nav-list-link">installation-instructions</a></li><li class="nav-list-item"><a href="/docs/folders-and-placeholders.html" class="nav-list-link">folders-and-placeholders</a></li><li class="nav-list-item"><a href="/docs/configuration-file-editor.html" class="nav-list-link">configuration-file-editor</a></li><li class="nav-list-item"><a href="/docs/known-issues.html" class="nav-list-link">known-issues</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in user-guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/user-guide.html" class="nav-list-link">user-guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui.html" class="nav-list-link">user-guide-geodms-gui</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-gui-older-variants-(delphi).html" class="nav-list-link">user-guide-geodms-gui-older-variants-(delphi)</a></li><li class="nav-list-item"><a href="/docs/user-guide-geodms-run.html" class="nav-list-link">user-guide-geodms-run</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in how-to-model category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/how-to-model.html" class="nav-list-link">how-to-model</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/configuration-basics.html" class="nav-list-link">configuration-basics</a></li><li class="nav-list-item"><a href="/docs/unit.html" class="nav-list-link">unit</a></li><li class="nav-list-item"><a href="/docs/data-source.html" class="nav-list-link">data-source</a></li><li class="nav-list-item"><a href="/docs/expression.html" class="nav-list-link">expression</a></li><li class="nav-list-item"><a href="/docs/template.html" class="nav-list-link">template</a></li><li class="nav-list-item"><a href="/docs/visualisation-style.html" class="nav-list-link">visualisation-style</a></li><li class="nav-list-item"><a href="/docs/property.html" class="nav-list-link">property</a></li></ul></li><li class="nav-list-item"><a href="/docs/value-type.html" class="nav-list-link">value-type</a></li><li class="nav-list-item"><a href="/docs/configuration-examples.html" class="nav-list-link">configuration-examples</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in operator category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/operator.html" class="nav-list-link">operator</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/arithmetic-functions.html" class="nav-list-link">arithmetic-functions</a></li><li class="nav-list-item"><a href="/docs/ordering-functions.html" class="nav-list-link">ordering-functions</a></li><li class="nav-list-item"><a href="/docs/aggregation-functions.html" class="nav-list-link">aggregation-functions</a></li><li class="nav-list-item"><a href="/docs/conversion-functions.html" class="nav-list-link">conversion-functions</a></li><li class="nav-list-item"><a href="/docs/classify-functions.html" class="nav-list-link">classify-functions</a></li><li class="nav-list-item"><a href="/docs/transcendental-functions.html" class="nav-list-link">transcendental-functions</a></li><li class="nav-list-item"><a href="/docs/predicates-functions.html" class="nav-list-link">predicates-functions</a></li><li class="nav-list-item"><a href="/docs/logical-functions.html" class="nav-list-link">logical-functions</a></li><li class="nav-list-item"><a href="/docs/relational-functions.html" class="nav-list-link">relational-functions</a></li><li class="nav-list-item"><a href="/docs/selection-functions.html" class="nav-list-link">selection-functions</a></li><li class="nav-list-item"><a href="/docs/rescale-functions.html" class="nav-list-link">rescale-functions</a></li><li class="nav-list-item"><a href="/docs/constant-functions.html" class="nav-list-link">constant-functions</a></li><li class="nav-list-item"><a href="/docs/trigonometric-functions.html" class="nav-list-link">trigonometric-functions</a></li><li class="nav-list-item"><a href="/docs/geometric-functions.html" class="nav-list-link">geometric-functions</a></li><li class="nav-list-item"><a href="/docs/network-functions.html" class="nav-list-link">network-functions</a></li><li class="nav-list-item"><a href="/docs/grid-functions.html" class="nav-list-link">grid-functions</a></li><li class="nav-list-item"><a href="/docs/string-functions.html" class="nav-list-link">string-functions</a></li><li class="nav-list-item"><a href="/docs/file,-folder-and-read-functions.html" class="nav-list-link">file,-folder-and-read-functions</a></li><li class="nav-list-item"><a href="/docs/unit-functions.html" class="nav-list-link">unit-functions</a></li><li class="nav-list-item"><a href="/docs/matrix-functions.html" class="nav-list-link">matrix-functions</a></li><li class="nav-list-item"><a href="/docs/sequence-functions.html" class="nav-list-link">sequence-functions</a></li><li class="nav-list-item"><a href="/docs/metascript-functions.html" class="nav-list-link">metascript-functions</a></li><li class="nav-list-item"><a href="/docs/allocation-functions.html" class="nav-list-link">allocation-functions</a></li><li class="nav-list-item"><a href="/docs/miscellaneous-functions.html" class="nav-list-link">miscellaneous-functions</a></li></ul></li></ul> </nav> <footer class="site-footer"> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GeoDMS wiki" aria-label="Search GeoDMS wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/ObjectVision/GeoDMS" class="site-button" > GeoDms on Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="intro"> <a href="#intro" class="anchor-heading" aria-labelledby="intro"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> intro </h1> <p>Model description of proposed <a href="https://forestwiki.jrc.ec.europa.eu/efdm/index.php/Main_Page_EFDM" title="wikilink"><a href="https://forestwiki.jrc.ec.europa.eu/efdm/index.php/Main_Page">https://forestwiki.jrc.ec.europa.eu/efdm/index.php/Main_Page</a> EFDM</a> extensions.</p> <p>Included are:</p> <ul> <li>Fitting activities to regional commodity demands</li> <li>Allocating activities to a raster of discrete forest data and apply transition rules locally.</li> </ul> <p>Not included are:</p> <ul> <li>Allowing for non-even forests. We remain the assumption that forests belong to a specific age-group and don’t have a mixed state. However, it might be possible within the proposed framework to model non-even age groups as specific age categories that participate in the transition rules (such as thinning an even aged forest might cause it to become oddly aged).</li> </ul> <h1 id="indices"> <a href="#indices" class="anchor-heading" aria-labelledby="indices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> indices </h1> <ul> <li>Time <em>t</em></li> </ul> <p>The following indices can be country specific:</p> <ul> <li>Raster cell <em>i</em></li> <li>Region <em>r</em></li> <li>Species <em>s</em>, which may include several non-mutating characteristics such as Siteclass, but is initially limited to <em>conifer</em> and <em>broad-leaf</em>.</li> <li>Volume Classes 1..11: <em>v</em>, <em>w</em></li> <li>Age groups 1..33: <em>g</em>, <em>h</em></li> <li>Activity 1..3: <em>a</em>, <em>b</em>, usually: no activity, thinning, and full felling.</li> <li>Commodity 1..4: <em>c</em>, usually: Coniferous Pulp, Coniferous Timber, Broad-leaf Pulp, and Broad-leaf Timber.</li> </ul> <!-- --> <ul> <li>Forest type <em>f</em>: a combination of and substitute for <em>s</em>, <em>v</em>, and <em>g</em>.</li> </ul> <p>A symbol $\sideset{<em>{t}^{f}}{</em>{a}^{b}}X$ indicates a set of tables or matrices <a href="http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each_for_each" title="wikilink"><a href="http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each">http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each</a> for each</a> <em>f</em> with <em>a</em> indicating the set of rows and <em>b</em> indicating the set of columns or values indicating a (probabilistic) mapping from the set of <em>a</em>’s to the set of <em>b</em>’s, defined in a script that is instantiated <a href="http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each_for_each" title="wikilink"><a href="http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each">http://www.objectvision.nl/geodms/operators-a-functions/metascript/for_each</a> for each</a> <em>t</em>. Although Region <em>r</em> is mostly used as upper-left index, in the implementation it might become part of the lower-right indices, thus part of the rowset definitions.</p> <h1 id="regional-model"> <a href="#regional-model" class="anchor-heading" aria-labelledby="regional-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> regional model </h1> <p>Input:</p> <ul> <li>Initial State vectors: $\sideset{<em>0^{rs}}{</em>{vg}}X$ in [ha]</li> <li>State Transition fraction matrices: $\sideset{^{ras}}{_{wh}^{vg}}P$, given per region. This will be implemented as a sparse matrix (a table with only the nonzero elements) for each <em>r</em>, <em>a</em> and <em>s</em>.</li> <li>Activity fraction Prior matrices: $\sideset{^{rs}}{_{vg}^a}A$.</li> <li>Activity Yield matrices: $\sideset{^{rs}}{_{vg}^{ca}}H$ in [q/ha], given per region.</li> <li>National Demand for Commodities covectors: $\sideset{_t}{^c}D$ in [q]</li> </ul> <p>For each <em>a</em> and <em>t</em> use <a href="Iterative_proportional_fitting" title="wikilink">Iterative proportional fitting</a> or <a href="Continuous_Allocation" title="wikilink">Continuous Allocation</a> to find balancing factors $\sideset{<em>t^{s}}{^a}\lambda$ such that $\forall c: \sum\limits</em>{rasvg} \sideset{^{rs}}{<em>{vg}^{ca}}H \cdot \sideset{_t^{rs}}{</em>{vg}^a}B \cdot \sideset{<em>t^{rs}}{</em>{vg}}X = \sideset{_t}{^c}D$</p> <p>with Activity fraction Posterior matrices $\sideset{<em>t^{rs}}{</em>{vg}^a}B := {^a}\lambda \cdot \sideset{^{rs}}{<em>{vg}^a}A} \over {\sum\limits</em>{b}\sideset{<em>t^{s}}{^b}\lambda \cdot \sideset{^{rs}}{</em>{vg}^b}A}}$</p> <p>This requires that each <em>c</em> is linked to a disjunct non-empty set of combinations of <em>a</em> and <em>s</em> that contributes most to that commodity, maybe determined for each <em>a</em> and <em>s</em> by $\underset{c}{\mathbf{argmax}}\left( \sum\limits_{rvg} \sideset{^{rs}}{_{vg}^{ca}}H\right)$</p> <p>Then apply the State Transition and Posterior Activity fractions to calculate State vectors for the next time step: $\sideset{<em>{t+1}^{rs}}{</em>{wh}}X := \sum\limits_{avg} \sideset{^{ras}}{<em>{wh}^{vg}}P \cdot \sideset{_t^{rs}}{</em>{vg}^a}B \cdot \sideset{<em>{t}^{rs}}{</em>{vg}}X$</p> <p>Note that this application seems equivalent to the current EFDM when all balancing factors are assumed to be 1.</p> <h1 id="raster-model"> <a href="#raster-model" class="anchor-heading" aria-labelledby="raster-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> raster model </h1> <p>Input:</p> <ul> <li>Initial State incidence map: $\sideset{_0}{_i^{svg}}Y$ [ha] with exactly one 1[ha] in each row.</li> <li>Region incidence map: <em>R</em><sub><em>i</em></sub><sup><em>r</em></sup> with exactly one 1 in each row.</li> <li>Activity Suitability maps: $\sideset{^a}{_i}S$ [utility]</li> </ul> <p>Incidence maps will be implemented as index vectors $\sideset{_0}{_i}{svg}$ and <em>r</em><sub><em>i</em></sub>, but for simplicity, the matrix notation is used here.</p> <p>It is a precondition that $\forall r, s, v, g: \sum\limits_{i} R_i^r \cdot \sideset{<em>0}{_i^{svg}}Y = \sideset{_0^{rs}}{</em>{vg}}X$</p> <p>For each t, r, s, v, and g use <a href="Discrete_Allocation" title="wikilink">Discrete Allocation</a> to disaggregate the regional amount of activities resulting in an Activity incidence map $\sideset{<em>t}{_i^{a}}M$ that maximizes total Suitability $\sum\limits</em>{ia} \sideset{^a}{<em>i}S \cdot \sideset{_t}{_i^{a}}M$ subject to $\forall a: \sum\limits</em>{i} R_i^r \cdot \sideset{<em>t}{_i^{svg}}Y \cdot \sideset{_t}{_i^{a}}M = \sideset{_t^{rs}}{</em>{vg}^a}B \cdot \sideset{<em>t^{rs}}{</em>{vg}}X$</p> <p>Then apply the state transitions and allocated activities to calculate a probability distrbution for the state of each cell in the next time step and draw a sample from that: $E\left[ \sideset{<em>{t+1}}{_i^{swh}}Y \right] = Prob( \sideset{</em>{t+1}}{<em>i^{swh}}Y = 1 ) := \sum\limits</em>{avg} \sideset{^{as}}{_{wh}^{vg}}P \cdot \sideset{_t}{_i^{a}}M \cdot \sideset{_t}{_i^{svg}}Y$</p> <p>Note that the expected occurrence of each new state balances with the new regional totals since for each <em>t</em>, <em>r</em>, <em>s</em>, <em>w</em>, and <em>h</em>: $E\left[ \sum\limits_{i} R_i^r \cdot \sideset{<em>{t+1}}{_i^{swh}}Y \right] = \sum\limits</em>{i} R_i^r \cdot E\left[ \sideset{<em>{t+1}}{_i^{swh}}Y \right] = \sum\limits</em>{i} \left[ R_i^r \cdot \sum\limits_{avg} \sideset{^{as}}{<em>{wh}^{vg}}P \cdot \sideset{_t}{_i^{a}}M \cdot \sideset{_t}{_i^{svg}}Y \right] = \sum\limits</em>{avg} \left[ \sideset{^{as}}{<em>{wh}^{vg}}P \cdot \sum\limits</em>{i} R_i^r \cdot \sideset{<em>t}{_i^{svg}}Y \cdot \sideset{_t}{_i^{a}}M \right] = \sum\limits</em>{avg} \sideset{^{as}}{<em>{wh}^{vg}}P \cdot \sideset{_t^{rs}}{</em>{vg}^a}B \cdot \sideset{<em>t^{rs}}{</em>{vg}}X = \sideset{<em>{t+1}^{rs}}{</em>{wh}}X$</p> <p>Additional notes:</p> <p>The raster model would use the discrete allocation operation to allocate activities that maximize suitability within the bounds set by the regional amount of activities (expressed as constraints after the “subject to”). This means that decisions are taken locally based on a suitability that is augmented (within the discrete allocation) by a shadow price per region per activity to meet these constraints. A positive shadow price reflects a ‘subsidy’ that might be required to get sufficient locations for an activity whereas a negative shadow price reflects a ‘taxation’ to prevent over-allocation.</p> <p>For more details, see:</p> <ul> <li><a href="http://wiki.objectvision.nl/index.php/Discrete_Allocation">http://wiki.objectvision.nl/index.php/Discrete_Allocation</a></li> <li><a href="http://wiki.objectvision.nl/index.php/Function:discrete_alloc">http://wiki.objectvision.nl/index.php/Function:discrete_alloc</a></li> <li><a href="http://www.objectvision.nl/geodms/operators-a-functions/allocation">http://www.objectvision.nl/geodms/operators-a-functions/allocation</a></li> </ul> <p>Even in degenerated cases when too many different locations have the same relative suitability for one activity, the discrete allocation will only allocate the required amount of cells by taking arbitrary choices based on <a href="http://wiki.objectvision.nl/index.php/Virtual_perturbation">http://wiki.objectvision.nl/index.php/Virtual_perturbation</a> .</p> <p>Suitabilities are expressed as 32 bits integers to prevent round-off issues that arise when dealing with floating point values with varying magnitudes. Usually a calculated bidding price in EUR / ha is multiplied by a factor and then rounded off to make it integer, but one can also define a limited set of suitability classes with fixed units of extra utility as the resulting degeneration is not a big issue.</p> <h1 id="suitability-and-uncertainty"> <a href="#suitability-and-uncertainty" class="anchor-heading" aria-labelledby="suitability-and-uncertainty"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> suitability and uncertainty </h1> <p>The activity suitability maps may contain several factors which are weighted according to a logit regression on observed choices. When maximization is considered ‘too optimal’, the discrete allocation can also be used to get a result of a Monte Carlo sample from a stochastic activity choice based on the probabilities $P_i(a) := {\exp(\sideset{^a}{_i}S + \lambda_a) \over { \sum\limits_b \exp {\sideset{^b}{_i}S + \lambda_b} }}$ by adding to the augmented suitability a random term with exponential distribution where the <em>β</em> parameter indicates the scale of suitability increments, usally 1. The odds ratio of the probability of one option to another then becomes equal to the exponent of the augmented suitability difference where augmentation here includes the regional schadow prices as well as raster price, $p_i := \ln \sum\limits_b \exp \left[\sideset{^b}{_i}S + \lambda_a\right]$. A random term with exponential distribution can be drawn for each combination of <em>i</em> and <em>a</em> by calculating  − <em>β</em> ⋅ ln (<em>U</em>) with <em>U</em> iid uniform random between 0 and 1.</p> <p>See also:</p> <ul> <li><a href="https://en.wikipedia.org/wiki/Exponential_distribution">Exponential distribution in wikipedia</a></li> </ul> <h1 id="proposed-changes-to-the-initial-description-during-the-implementation-of-the-prototype"> <a href="#proposed-changes-to-the-initial-description-during-the-implementation-of-the-prototype" class="anchor-heading" aria-labelledby="proposed-changes-to-the-initial-description-during-the-implementation-of-the-prototype"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> proposed changes to the initial description during the implementation of the prototype </h1> <p>The following proposed changes are provisional and will be used to update the above description when agreed upon and demonstrated in a working prototype.</p> <ol> <li>the age groups and volume class breaks are specified per forest type per NUTS1 (and not per country).</li> <li>Forest type is set to {CF, BL} for all run countries (NUTS0) for the prototype, but will be adjustable per NUTS1, provided that forest type specific data is provided.</li> <li>For rules on transitions (source: e-mail dd 23-10-2015): <ul> <li>Thinning: For now assume one drop in volume class for thinned areas for the following time step. This rule is a blanket rule that should be flexible from region to region, but we do not have data now, so this assumption holds for all regions and species.</li> <li>Final felling: assume the area drops to volume class0 and age class0 in the next time step because it is clear cut and no volume remains. The area felled then starts to grow again using the probabilities in the transition probabilities matrices for each species per region.</li> </ul> </li> <li>How to assess the amount of m3 wood per volume class (see: e-mail dd 09-10-2015): <ul> <li>Final Felling: I’ll assume the average of the class-break and the next class-break that is fine, except the last class, where the next class-break is assumed to be 25 % above the break of the beginning of the last class.</li> <li>Thinning: the m3 wood production is determined by the difference in average volumes of the decreased volume class.</li> </ul> </li> <li>Sawlogs versus pulpwood: I don’t see now how different production types contribute to the different type of wood production (except for the obvious different forest types). I assume for now that I rescale the different activity quantities towards balancing the total wood production to the sum of sawlogs + pulpwood. This assumes 100% yield of the removed wood which can be varied later, but I expect this to give a more balanced regional model than by selecting different age groups and volume classes to use the relative differences between sawlog and pulpwood production to meet the demand.</li> </ol> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
